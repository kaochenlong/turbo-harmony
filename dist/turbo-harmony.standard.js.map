{"version":3,"file":"turbo-harmony.standard.js","sources":["../src/index.js"],"sourcesContent":["/**\n * TurboHarmony - Alpine.js + Turbo Integration\n *\n * A comprehensive adapter that ensures Alpine.js components work seamlessly\n * with Turbo Drive, Turbo Stream, and Turbo Frame updates.\n *\n * @author TurboHarmony Contributors\n * @version 1.0.0\n * @license MIT\n */\n\nclass TurboHarmony {\n  constructor(options = {}) {\n    this.options = {\n      // Debug and logging\n      debug: false,\n      // @if DEBUG\n      logLevel: 'warn', // 'debug', 'info', 'warn', 'error'\n      // @endif\n\n      // State management\n      preserveState: false,\n      preserveStateSelectors: ['[x-data]'],\n\n      // Element filtering\n      skipSelectors: ['.turbo-harmony-skip', '.no-alpine', '[data-turbo-harmony-skip]'],\n\n      // Performance options\n      reinitDelay: 0, // ms delay before reinitializing\n      batchUpdates: true,\n\n      // Lifecycle hooks\n      beforeReinit: null, // (element) => {}\n      afterReinit: null, // (element) => {}\n      onError: null, // (error, context) => {}\n\n      // Advanced options\n      watchAttributes: ['x-data', 'x-show', 'x-if', 'x-for'],\n      autoStart: true,\n\n      ...options\n    }\n\n    // @if DEBUG\n    // Performance and debugging metrics\n    this.metrics = {\n      streamUpdates: 0,\n      frameUpdates: 0,\n      driveNavigation: 0,\n      reinitializations: 0,\n      errors: 0,\n      performance: [],\n      startTime: performance.now()\n    }\n    // @endif\n\n    // Internal state\n    this.isInitialized = false\n    this.preservedStates = new WeakMap()\n    this.initializedElements = new WeakSet()\n\n    // @if DEBUG\n    this.componentLifecycle = new Map()\n    // @endif\n\n    // Bind methods to maintain context\n    this.handleBeforeVisit = this.handleBeforeVisit.bind(this)\n    this.handleLoad = this.handleLoad.bind(this)\n    this.handleBeforeStreamRender = this.handleBeforeStreamRender.bind(this)\n    this.handleStreamRender = this.handleStreamRender.bind(this)\n    this.handleBeforeFrameRender = this.handleBeforeFrameRender.bind(this)\n    this.handleFrameRender = this.handleFrameRender.bind(this)\n    this.handleError = this.handleError.bind(this)\n\n    if (this.options.autoStart) {\n      this.init()\n    }\n  }\n\n  /**\n   * Initialize TurboHarmony\n   * Validates dependencies and sets up event listeners\n   */\n  init() {\n    if (this.isInitialized) {\n      this.log('warn', 'TurboHarmony already initialized')\n      return this\n    }\n\n    this.validateDependencies()\n    this.setupEventListeners()\n\n    this.isInitialized = true\n    this.log('info', 'TurboHarmony initialized successfully', {\n      options: this.options,\n      version: '1.0.0'\n    })\n\n    return this\n  }\n\n  /**\n   * Validate that required dependencies are available\n   */\n  validateDependencies() {\n    if (typeof window === 'undefined') {\n      throw new Error('TurboHarmony: window object not available')\n    }\n\n    if (!window.Alpine) {\n      throw new Error(\n        'TurboHarmony: Alpine.js not found. Please ensure Alpine.js is loaded before TurboHarmony.'\n      )\n    }\n\n    if (!window.Turbo) {\n      throw new Error(\n        'TurboHarmony: Turbo not found. Please ensure @hotwired/turbo is loaded before TurboHarmony.'\n      )\n    }\n\n    this.log('debug', 'Dependencies validated successfully')\n  }\n\n  /**\n   * Set up all Turbo event listeners\n   */\n  setupEventListeners() {\n    // Turbo Drive events (full page navigation)\n    document.addEventListener('turbo:before-visit', this.handleBeforeVisit)\n    document.addEventListener('turbo:load', this.handleLoad)\n\n    // Turbo Stream events (partial page updates) - Main focus\n    document.addEventListener('turbo:before-stream-render', this.handleBeforeStreamRender)\n    document.addEventListener('turbo:stream-render', this.handleStreamRender)\n\n    // Turbo Frame events (frame-specific updates)\n    document.addEventListener('turbo:before-frame-render', this.handleBeforeFrameRender)\n    document.addEventListener('turbo:frame-render', this.handleFrameRender)\n\n    // Error handling\n    window.addEventListener('error', this.handleError)\n    window.addEventListener('unhandledrejection', this.handleError)\n\n    this.log('debug', 'Event listeners registered')\n  }\n\n  /**\n   * Handle Turbo Drive before visit (full page navigation)\n   */\n  handleBeforeVisit(event) {\n    // @if DEBUG\n    this.metrics.driveNavigation++\n    // @endif\n    this.log('debug', 'Turbo Drive: before visit', { location: event.detail.url })\n\n    // Clean up Alpine instances before navigation\n    if (Alpine.destroyTree) {\n      Alpine.destroyTree(document.body)\n    }\n  }\n\n  /**\n   * Handle Turbo Drive load (after page navigation)\n   */\n  handleLoad(event) {\n    this.log('debug', 'Turbo Drive: load complete')\n\n    // Only reinitialize DOM tree, don't call Alpine.start() again\n    if (Alpine.initTree) {\n      Alpine.initTree(document.body)\n    }\n  }\n\n  /**\n   * Handle before Turbo Stream render\n   */\n  handleBeforeStreamRender(event) {\n    this.log('debug', 'Turbo Stream: before render', {\n      action: event.detail?.action,\n      target: event.detail?.target\n    })\n\n    // @if PRESERVE_STATE\n    // Prepare for Stream update\n    const targetElement = this.findTargetElement(event)\n    if (targetElement && this.options.preserveState) {\n      this.preserveAlpineState(targetElement)\n    }\n    // @endif\n  }\n\n  /**\n   * Handle Turbo Stream render (after partial update)\n   * This is the core functionality for Stream integration\n   */\n  handleStreamRender(event) {\n    // @if DEBUG\n    const startTime = performance.now()\n    this.metrics.streamUpdates++\n    // @endif\n\n    try {\n      const targetElement = this.findTargetElement(event)\n\n      if (!targetElement) {\n        this.log('warn', 'Turbo Stream: target element not found', event.detail)\n        return\n      }\n\n      this.log('debug', 'Turbo Stream: render detected', {\n        action: event.detail?.action,\n        target: targetElement.tagName,\n        id: targetElement.id,\n        classes: targetElement.className\n      })\n\n      // Check if we should skip this element\n      if (this.shouldSkipElement(targetElement)) {\n        this.log('debug', 'Turbo Stream: skipping element due to skip selector')\n        return\n      }\n\n      // Perform Alpine reinitialization\n      this.reinitializeAlpineInElement(targetElement)\n\n      // @if DEBUG\n      // Record performance\n      const endTime = performance.now()\n      this.metrics.performance.push(endTime - startTime)\n      // @endif\n    } catch (error) {\n      this.handleError(error, 'handleStreamRender')\n    }\n  }\n\n  /**\n   * Handle before Turbo Frame render\n   */\n  handleBeforeFrameRender(event) {\n    this.log('debug', 'Turbo Frame: before render', { frame: event.target.id })\n\n    // @if DEBUG\n    // Clean up tracking for elements that will be removed\n    const frameElement = event.target\n    if (frameElement) {\n      const alpineElements = frameElement.querySelectorAll('[x-data]')\n      alpineElements.forEach(el => {\n        this.initializedElements.delete(el)\n        this.trackComponentLifecycle(el, 'beforeDestroy')\n      })\n    }\n    // @endif\n  }\n\n  /**\n   * Handle Turbo Frame render\n   */\n  handleFrameRender(event) {\n    // @if DEBUG\n    this.metrics.frameUpdates++\n    // @endif\n    const frameElement = event.target\n\n    this.log('debug', 'Turbo Frame: render complete', { frame: frameElement.id })\n\n    // Reinitialize Alpine within the frame\n    if (!this.shouldSkipElement(frameElement)) {\n      this.reinitializeAlpineInElement(frameElement)\n    }\n  }\n\n  /**\n   * Find the target element from a Turbo event\n   */\n  findTargetElement(event) {\n    // Try multiple ways to find the target element\n    return (\n      event.target ||\n      event.detail?.target ||\n      (event.detail?.selector && document.querySelector(event.detail.selector)) ||\n      null\n    )\n  }\n\n  /**\n   * Check if an element should be skipped for Alpine reinitialization\n   */\n  shouldSkipElement(element) {\n    if (!element || !element.matches) return true\n\n    return this.options.skipSelectors.some(selector => {\n      try {\n        return element.matches(selector)\n      } catch (e) {\n        this.log('warn', `Invalid skip selector: ${selector}`, e)\n        return false\n      }\n    })\n  }\n\n  /**\n   * Reinitialize Alpine.js for a specific element\n   * This is the core method that makes the magic happen\n   */\n  reinitializeAlpineInElement(element) {\n    // @if DEBUG\n    this.metrics.reinitializations++\n    // @endif\n\n    try {\n      this.log('debug', 'Reinitializing Alpine in element', {\n        tag: element.tagName,\n        id: element.id,\n        classes: element.className\n      })\n\n      // Execute beforeReinit hook\n      if (this.options.beforeReinit) {\n        this.options.beforeReinit(element)\n      }\n\n      // @if PRESERVE_STATE\n      // Preserve state if enabled\n      if (this.options.preserveState) {\n        this.preserveAlpineState(element)\n      }\n      // @endif\n\n      // Track initialized elements to prevent double initialization\n      const alpineElements = element.querySelectorAll('[x-data]')\n      const elementsToInit = []\n\n      alpineElements.forEach(el => {\n        // Skip if already initialized and still connected\n        if (el._x_dataStack && el._x_dataStack.length > 0 && this.initializedElements.has(el)) {\n          this.log('debug', 'Skipping already initialized element', {\n            id: el.id,\n            classes: el.className\n          })\n          // @if DEBUG\n          this.trackComponentLifecycle(el, 'skipped')\n          // @endif\n          return\n        }\n        elementsToInit.push(el)\n        // @if DEBUG\n        this.trackComponentLifecycle(el, 'queued')\n        // @endif\n      })\n\n      // Only destroy and reinit if there are uninitialized elements\n      if (elementsToInit.length > 0) {\n        // Destroy existing Alpine instances within the element\n        if (Alpine.destroyTree) {\n          Alpine.destroyTree(element)\n        }\n\n        // Reinitialize Alpine\n        const reinit = () => {\n          if (Alpine.initTree) {\n            Alpine.initTree(element)\n          } else if (Alpine.start) {\n            // Fallback for older Alpine versions\n            Alpine.start()\n          }\n\n          // Mark elements as initialized\n          elementsToInit.forEach(el => {\n            this.initializedElements.add(el)\n            // @if DEBUG\n            this.trackComponentLifecycle(el, 'initialized')\n            // @endif\n          })\n\n          // @if PRESERVE_STATE\n          // Restore state if preserved\n          if (this.options.preserveState) {\n            this.restoreAlpineState(element)\n          }\n          // @endif\n\n          // Execute afterReinit hook\n          if (this.options.afterReinit) {\n            this.options.afterReinit(element)\n          }\n\n          this.log('debug', 'Alpine reinitialization complete', {\n            initialized: elementsToInit.length\n          })\n        }\n\n        // Apply delay if configured\n        if (this.options.reinitDelay > 0) {\n          setTimeout(reinit, this.options.reinitDelay)\n        } else {\n          reinit()\n        }\n      } else {\n        // No x-data elements found inside, check if parent has x-data\n        // This handles the common pattern where a parent element has x-data\n        // and child Turbo Frames contain only Alpine directives (x-on:*, x-model, etc.)\n        const parentWithData = element.closest('[x-data]')\n\n        if (parentWithData) {\n          // Found parent with x-data, reinitialize from parent to ensure\n          // child directives can access the Alpine component context\n          this.log('debug', 'Found parent with x-data, reinitializing from parent')\n\n          const reinit = () => {\n            if (Alpine.destroyTree) {\n              Alpine.destroyTree(parentWithData)\n            }\n\n            if (Alpine.initTree) {\n              Alpine.initTree(parentWithData)\n            }\n\n            // Execute afterReinit hook\n            if (this.options.afterReinit) {\n              this.options.afterReinit(element)\n            }\n\n            this.log('debug', 'Alpine reinitialization from parent complete')\n          }\n\n          // Apply delay if configured\n          if (this.options.reinitDelay > 0) {\n            setTimeout(reinit, this.options.reinitDelay)\n          } else {\n            reinit()\n          }\n        } else {\n          // No parent with x-data, just try to initialize the element itself\n          this.log('debug', 'No x-data found in parent chain, initializing element directly')\n\n          const reinit = () => {\n            if (Alpine.initTree) {\n              Alpine.initTree(element)\n            }\n\n            // Execute afterReinit hook\n            if (this.options.afterReinit) {\n              this.options.afterReinit(element)\n            }\n\n            this.log('debug', 'Alpine directive initialization complete')\n          }\n\n          // Apply delay if configured\n          if (this.options.reinitDelay > 0) {\n            setTimeout(reinit, this.options.reinitDelay)\n          } else {\n            reinit()\n          }\n        }\n      }\n    } catch (error) {\n      this.handleError(error, 'reinitializeAlpineInElement')\n    }\n  }\n\n  // @if PRESERVE_STATE\n  /**\n   * Preserve Alpine component state before reinitialization\n   */\n  preserveAlpineState(element) {\n    try {\n      const alpineElements = element.querySelectorAll(this.options.preserveStateSelectors.join(','))\n      const states = new Map()\n\n      alpineElements.forEach(el => {\n        // Access Alpine's internal data stack\n        if (el._x_dataStack && el._x_dataStack.length > 0) {\n          try {\n            const state = this.safeStringify(el._x_dataStack[0])\n            states.set(this.getElementKey(el), JSON.parse(state))\n          } catch (e) {\n            this.log('warn', 'Failed to preserve state for element', e)\n          }\n        }\n      })\n\n      this.preservedStates.set(element, states)\n      this.log('debug', `Preserved state for ${states.size} Alpine components`)\n    } catch (error) {\n      this.handleError(error, 'preserveAlpineState')\n    }\n  }\n\n  /**\n   * Restore Alpine component state after reinitialization\n   */\n  restoreAlpineState(element) {\n    try {\n      const savedStates = this.preservedStates.get(element)\n      if (!savedStates) return\n\n      // Wait a tick for Alpine to fully initialize\n      setTimeout(() => {\n        const alpineElements = element.querySelectorAll(\n          this.options.preserveStateSelectors.join(',')\n        )\n\n        alpineElements.forEach(el => {\n          const key = this.getElementKey(el)\n          const savedState = savedStates.get(key)\n\n          if (savedState && el._x_dataStack && el._x_dataStack.length > 0) {\n            try {\n              // Only restore properties that exist and are writable\n              const currentData = el._x_dataStack[0]\n              Object.keys(savedState).forEach(prop => {\n                const descriptor = Object.getOwnPropertyDescriptor(currentData, prop)\n                // Skip getters/setters and non-writable properties\n                if (!descriptor || descriptor.set || descriptor.writable !== false) {\n                  try {\n                    currentData[prop] = savedState[prop]\n                  } catch (e) {\n                    this.log('debug', `Skipped non-writable property: ${prop}`)\n                  }\n                }\n              })\n              this.log('debug', 'Restored state for element', key)\n            } catch (e) {\n              this.log('warn', 'Failed to restore state for element', e)\n            }\n          }\n        })\n\n        // Clean up\n        this.preservedStates.delete(element)\n      }, 10)\n    } catch (error) {\n      this.handleError(error, 'restoreAlpineState')\n    }\n  }\n\n  /**\n   * Generate a unique key for an element (for state preservation)\n   */\n  getElementKey(element) {\n    return (\n      element.id ||\n      element.getAttribute('data-key') ||\n      `${element.tagName}-${Array.from(element.parentNode.children).indexOf(element)}`\n    )\n  }\n\n  /**\n   * Safe JSON stringify that handles circular references and non-serializable values\n   */\n  safeStringify(obj) {\n    const seen = new WeakSet()\n\n    return JSON.stringify(obj, (key, value) => {\n      // Skip DOM elements and other non-serializable browser objects\n      if (\n        value instanceof HTMLElement ||\n        value instanceof Window ||\n        value instanceof Document ||\n        value instanceof Event\n      ) {\n        return undefined\n      }\n\n      // Skip functions\n      if (typeof value === 'function') {\n        return undefined\n      }\n\n      // Skip properties that start with _ (often internal/private)\n      if (typeof key === 'string' && key.startsWith('_')) {\n        return undefined\n      }\n\n      // Handle circular references\n      if (typeof value === 'object' && value !== null) {\n        if (seen.has(value)) {\n          return undefined\n        }\n        seen.add(value)\n      }\n\n      return value\n    })\n  }\n  // @endif\n\n  /**\n   * Enhanced logging system with levels and formatting\n   */\n  log(level, message, data = null) {\n    if (!this.options.debug) return\n\n    // @if DEBUG\n    const levels = { debug: 0, info: 1, warn: 2, error: 3 }\n    const currentLevel = levels[this.options.logLevel] || 1\n\n    if (levels[level] >= currentLevel) {\n      const timestamp = new Date().toISOString()\n      const prefix = `[TurboHarmony ${timestamp}]`\n      const method =\n        level === 'error' ? 'error' : level === 'warn' ? 'warn' : level === 'info' ? 'info' : 'log'\n\n      if (data) {\n        console[method](prefix, message, data)\n      } else {\n        console[method](prefix, message)\n      }\n    }\n    // @else\n    if (level === 'error' || level === 'warn') {\n      console[level]('[TurboHarmony]', message, data || '')\n    }\n    // @endif\n  }\n\n  /**\n   * Centralized error handling\n   */\n  handleError(error, context = '') {\n    // @if DEBUG\n    this.metrics.errors++\n    // @endif\n\n    const errorInfo = {\n      message: error.message || error,\n      context,\n      timestamp: new Date().toISOString(),\n      // @if DEBUG\n      metrics: this.getMetrics()\n      // @endif\n    }\n\n    this.log('error', `TurboHarmony error in ${context}:`, errorInfo)\n\n    // Execute custom error handler if provided\n    if (this.options.onError) {\n      try {\n        this.options.onError(error, errorInfo)\n      } catch (handlerError) {\n        console.error('[TurboHarmony] Error in custom error handler:', handlerError)\n      }\n    }\n  }\n\n  // @if DEBUG\n  /**\n   * Track component lifecycle events\n   */\n  trackComponentLifecycle(element, event) {\n    const key = this.getElementKey(element)\n    const timestamp = performance.now()\n\n    if (!this.componentLifecycle.has(key)) {\n      this.componentLifecycle.set(key, [])\n    }\n\n    this.componentLifecycle.get(key).push({\n      event,\n      timestamp,\n      element: {\n        id: element.id,\n        classes: element.className,\n        tag: element.tagName\n      }\n    })\n  }\n\n  /**\n   * Get lifecycle report for debugging\n   */\n  getLifecycleReport() {\n    const report = []\n    this.componentLifecycle.forEach((events, key) => {\n      report.push({\n        component: key,\n        events: events,\n        totalEvents: events.length,\n        duplicateInits: events.filter(e => e.event === 'initialized').length - 1\n      })\n    })\n    return report\n  }\n\n  /**\n   * Get performance and usage metrics\n   */\n  getMetrics() {\n    const uptime = performance.now() - this.metrics.startTime\n    const avgPerformance =\n      this.metrics.performance.length > 0\n        ? this.metrics.performance.reduce((a, b) => a + b) / this.metrics.performance.length\n        : 0\n\n    return {\n      ...this.metrics,\n      uptime: Math.round(uptime),\n      averageReinitTime: Math.round(avgPerformance * 100) / 100,\n      successRate:\n        this.metrics.errors === 0\n          ? 100\n          : Math.round(\n              (1 -\n                this.metrics.errors /\n                  (this.metrics.streamUpdates +\n                    this.metrics.frameUpdates +\n                    this.metrics.driveNavigation)) *\n                100\n            ),\n      totalComponents: this.componentLifecycle.size,\n      lifecycleReport: this.getLifecycleReport()\n    }\n  }\n\n  /**\n   * Reset metrics (useful for testing and debugging)\n   */\n  resetMetrics() {\n    this.metrics = {\n      streamUpdates: 0,\n      frameUpdates: 0,\n      driveNavigation: 0,\n      reinitializations: 0,\n      errors: 0,\n      performance: [],\n      startTime: performance.now()\n    }\n\n    this.log('info', 'Metrics reset')\n  }\n  // @endif\n\n  /**\n   * Manually reinitialize Alpine for the entire document\n   * Useful for debugging or manual intervention\n   */\n  reinitializeAll() {\n    this.log('info', 'Manual reinitialization triggered')\n    this.reinitializeAlpineInElement(document.body)\n  }\n\n  /**\n   * Destroy TurboHarmony and clean up event listeners\n   */\n  destroy() {\n    document.removeEventListener('turbo:before-visit', this.handleBeforeVisit)\n    document.removeEventListener('turbo:load', this.handleLoad)\n    document.removeEventListener('turbo:before-stream-render', this.handleBeforeStreamRender)\n    document.removeEventListener('turbo:stream-render', this.handleStreamRender)\n    document.removeEventListener('turbo:before-frame-render', this.handleBeforeFrameRender)\n    document.removeEventListener('turbo:frame-render', this.handleFrameRender)\n    window.removeEventListener('error', this.handleError)\n    window.removeEventListener('unhandledrejection', this.handleError)\n\n    this.isInitialized = false\n    this.log('info', 'TurboHarmony destroyed')\n  }\n}\n\n// Export for different module systems\nexport default TurboHarmony\nexport { TurboHarmony }\n\n// Global assignment for non-module usage\nif (typeof window !== 'undefined') {\n  window.TurboHarmony = TurboHarmony\n}\n\n"],"names":[],"mappings":"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"}